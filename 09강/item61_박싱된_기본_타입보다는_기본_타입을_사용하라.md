## Item 61 : 참조 타입보다는 기본타입을 사용하라 
### Conclusion
컬렉션에 사용되거나 제네릭에 사용되는게 아니라면 raw 타입을 사용하라.  
boxed타입은 시간/공간효율이 raw타입보다 못하고, null을 가질수 있다.  

### In case
int, long, float, double, boolean에 한정하는 이야기임.

기본타입과 참조타입의 차이는 세가지가 있다.  
1. 기본타입은 값만 존재하나, 참조타입은 값과 식별성을 가진다.
2. 기본타입은 값이 항상 존재하나, 참조타입은 값 대신 null이 존재할수 있다.
3. 기본타입은 기본타입이고, 참조타입은 참조타입이다.

참조타입이라면 식별자를 가진다. 자바가 기본적으로 캐싱하는 범위의 참조타입이 아니면  
==, != 따위의 연산자에 예상과는 다른 동작을 할것이다.(boolean 제외), 66

자바의 실수중 하나인 null을 허용했다는 점에서, 참조타입이기 때문에 null이 존재할수 있다.  
단순 수치형 타입이지만 null이 가능하기 때문에 비교시에 좀 번거롭다.  
이것을 보조하기 위해 OptionalInt 따위가 만들어졌다.

참조타입은 기본타입을 한번 박싱한 형태의 **불변 객체**이기 때문에 기본적으로 생성에 대한 시간이나 공간을 사용한다.  
때문에 참조타입에 대한 반복자 연산시 박싱/언박싱, 객체 생성과 gc가 반복되며 좋지않은 성능을 낼수 있다.

그렇담 참조타입은 언제 사용되어야 하는가?  
불변이라는 특성이 있기 때문에 어떤 비즈니스의 '키' 값으로 사용하기 적합하다.  
예를들어 Map에서 사용될때, 한번 저장된 불변타입의 키는 변경될수 없고, hashcode, equals 의 구현이 잘 이루어져 있으므로 검색에 쓰이는 객체가 실제로는 다른 객체라고 하더라도 Map에서 검색이 이루어진다. 이러한 점에서 키로 사용하는데 적합하다. 67  
또한, 제네릭 타입으로는 기본타입을 사용할수 없으므로 좋든 싫든 참조타입을 사용해야한다.


## in my opinion
개인적으로는 boxed 타입의 존재의의를 잘 이해 못하겠음.  
정말 제네릭 타입으로 사용될수 있으므로 사용한다는거 말고는 단점이 더 많은데(물론 이것도 언어적 제약이기 때문에 단점이라 볼수있을거같고)  
jdk의 제네릭을 구현할때 편했을거같다는 장점(이마저도 사용자의 장점은 아님)말고는 크게 장점이라고 할만한것이나, 참조타입의 모호함에 trade-off 될만한 장점이 없다 생각됨.
```java
int a = 1000;
int b = 1000;
a == b // true
Integer x = 1000;
Integer y = 1000;
x == b // false
// 또한, 
Integer z = 100;
Integer c = 100;
z == c // true, depending on runtime environment
```
딱 하나, 불변이라는 장점이 있긴 하지만 이마저도 raw타입이 이용되는 위치를 생각해보면 양날의 검으로 받아들여지기 쉽다.  
인터넷을 검색해봐도 Map.get(n)의 경우 모호성을 가질수 있기때문에 안된다 라고 하는데, 그것은 레거시 지원을 포기하지 못해서 이지 구현자체가 문제가 되지는 않을거라 생각이 든다.  
또, 자바에 익숙한 프로그래머도 종종 혼동을 하게 만드는 케이스가 Boolean 인데, 이름만보고 당연히 true/false만 있을꺼라 생각했다 NPE에 뒤통수를 맞는 경우가 있다.  

스칼라나 스몰토크는 기본유형이 없는데도 성능저하가 없음.
